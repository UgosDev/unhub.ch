# Specifica la versione di Node.js da utilizzare
runtime: nodejs20

# Espone il segreto 'api_key' come variabile d'ambiente API_KEY
env:
  - variable: API_KEY
    secret: api_key

# Build process: installa dipendenze, compila con Vite, inietta API key
build: npm install && npm run build

# Serve the compiled application from dist folder
run: npm start

# SPA routing configuration
serving:
  rewrites:
    - source: /.*
      destination: /index.html